
<div ui-map="myMap" ui-options="home.mapOptions" class="map-canvas"></div>
<div class="container-fluid">
  <div class="row">
    <div class="panel-container">
      <div class="panel panel-default">
        <div class="panel-heading" ng-click="home.showStatistics=!home.showStatistics">
          <span ng-show="!home.drawingMap">Search & Statistics</span>
          <span ng-show="home.drawingMap">Map Draw in Progress</span>
        	<div class="pull-right">
            <input id="totalTrips" type="number" value="{{home.trips.length}}" disabled ng-show="home.showStatistics">
        		<i class="fa fa-chevron-down" aria-hidden="true"></i>
        	</div>
                  
      	</div>
        <div class="panel-body statistics" ng-show="home.showStatistics">
          <div class="col-xs-6 col-md-12">                    
            <div >
              
            </div>
            <div>
            <form>
              <div class="col-xs-4">
                <label><input type="radio" name="searchType"> Contains</label>
              </div>
              <div class="col-xs-4">
                <label><input type="radio" name="searchType"> Radius</label>
              </div>
              <div class="col-xs-4">
                <label><input type="radio" name="searchType"> Intersects</label>
              </div>
            </form>
            </div>
            <div>
              <label for="maxResults">Max Results (20,000)</label>
              <input id="maxReults" type="number" ng-model="home.queryLimit" min="{{home.queryMin}}" max="{{home.queryMax}}">
            </div>
            <div>         
              <button id="socketTrips" ng-click="home.getSocketTrips()" title="Search">
                <i class="fa fa-filter fa-3x fa-fw" aria-hidden="true"></i>
              </button>
              <button ng-click="home.resetMap()" title="Clear Map">
                <i class="fa fa-trash fa-3x fa-fw" aria-hidden="true"></i>
              </button>
            </div>
          </div>
          <div class="col-xs-6 col-md-12">
          </div>
        </div>
        <div class="panel-heading" ng-click="home.showControls=!home.showControls">Controls
        	<div class="pull-right">
        		<i class="fa fa-chevron-down" aria-hidden="true"></i>
        	</div>
      	</div>
        <div class="panel-body" ng-show="home.showControls">
          <div>
          <h5>Markers</h5>
          <div class="persistence">
            <div>
              <label for="saveShape">Save Shape</label>
              <input type="text" placeholder="Shape Name" ng-model="home.saveShapeName"/>
              <button ng-click="home.saveShape()">Save</button>
            </div>
            <div>
              <label for="saveShape">Load Shape</label>
              <input type="text" placeholder="Shape Name" ng-model="home.loadShapeName"/>
              <button ng-click="home.loadShape()">Load</button>
            </div>
          </div>
          <h5>Geofence</h5>
            <button ng-click="home.filterTrips()" title="Search">
              <i class="fa fa-filter fa-3x fa-fw" aria-hidden="true"></i>
            </button>
            <button ng-click="home.togglePolygon()" title="Add Geopoint on Click" ng-show="!home.drawingPoly">
            	<i class="fa fa-crosshairs fa-3x fa-fw" aria-hidden="true"></i>
            </button>
            <button ng-click="home.togglePolygon()" title="Pan on Click" ng-show="home.drawingPoly">
            	<i class="fa fa-hand-rock-o fa-3x fa-fw" aria-hidden="true"></i>
            </button>
            <button ng-click="home.undoPolygon()" title="Undo Geopoint">
            	<i class="fa fa-undo fa-3x fa-fw" aria-hidden="true"></i>
            </button>
            <button ng-click="home.removePolygon()" title="Remove Geofence">
            	<i class="fa fa-trash fa-3x fa-fw" aria-hidden="true"></i>
            </button>
          <h5>Change Views</h5>
          <div><sup>Markers / Pickup/Dropoff Density / Heatmap</sup></div>
            <button ng-click="home.drawTripMarkers()" title="Draw Markers">
            	<i class="fa fa-map-marker fa-3x fa-fw" aria-hidden="true"></i>
            </button>
            <button ng-click="home.drawTripCluster()" title="Draw Clustermap">
            	<i class="fa fa-question-circle-o fa-3x fa-fw" aria-hidden="true"></i>
            </button>
            <button ng-click="home.drawHeatmap()" title="Show Heatmap">
            	<i class="fa fa-fire fa-3x fa-fw" aria-hidden="true"></i>
            </button>
            <button ng-click="home.removeMarkers()" title="Remove Markers">
              <i class="fa fa-trash fa-3x fa-fw" aria-hidden="true"></i>
            </button>
          </div>
        </div>
        <div class="panel-heading" ng-click="home.showQuery=!home.showQuery">Query
        	<div class="pull-right">
        		<i class="fa fa-chevron-down" aria-hidden="true"></i>
        	</div>
      	</div>
        <div class="panel-body" ng-show="home.showQuery">     
 					        
            <div>
            	<h5>Trip Start</h5>
              <input type="date" ng-model="home.tripStart">
              <input type="time" ng-model="home.tripStart">
            </div>
            <div>
            	<h5>Trip End</h5>
              <input type="date" ng-model="home.tripEnd">
              <input type="time" ng-model="home.tripEnd">
            </div>
          
          <div class="col-xs-12">

            <button ng-click="home.filterTrips()" title="Filter">
            	<i class="fa fa-filter fa-3x fa-fw" aria-hidden="true"></i>
            </button>
            <button ng-click="home.clearMap()" title="Filter">
            	<i class="fa fa-trash fa-3x fa-fw" aria-hidden="true"></i>
            </button>
          </div>
        </div>
        <div class="panel-heading" ng-click="home.showFilters=!home.showFilters">Filters
        	<div class="pull-right">
        		<i class="fa fa-chevron-down" aria-hidden="true"></i>
        	</div>
      	</div>
        <div class="panel-body" ng-show="home.showFilters">     
          <div class="col-xs-12">
						<div class="checkbox">
						  <label><input type="checkbox" ng-model="home.showPickupMarkers" ng-change="home.togglePickupMarkers(); home.drawMapMode()">Toggle Pickups</label>
						</div>
						<div class="checkbox">
						  <label><input type="checkbox" ng-model="home.showDropoffMarkers" ng-change="home.toggleDropoffMarkers(); home.drawMapMode()">Toggle Dropoffs</label>
						</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>