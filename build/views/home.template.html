
<div ui-map="myMap" ui-options="home.mapOptions" class="map-canvas"></div>
<div class="container-fluid">
  <div class="row">
    <div class="panel-container">
      <div class="panel panel-default">
        <div class="panel-heading" ng-click="home.showStatistics=!home.showStatistics">Search & Statistics 
        	<div class="pull-right">
            <input id="totalTrips" type="number" value="{{home.trips.length}}" disabled ng-show="home.showStatistics">
        		<i class="fa fa-chevron-down" aria-hidden="true"></i>
        	</div>
          <br />          
      	</div>
        <div class="panel-body" ng-show="home.showStatistics">
          <div class="col-xs-6 col-md-12">          
            <div>         
              <button id="socketTrips" ng-click="home.getSocketTrips()">Search Trips</button>
            </div>
            <div ng-show="home.drawingMap">
              Map Draw in Progress
            </div>
          </div>
          <div class="col-xs-6 col-md-12">
          </div>
        </div>
        <div class="panel-heading" ng-click="home.showControls=!home.showControls">Controls
        	<div class="pull-right">
        		<i class="fa fa-chevron-down" aria-hidden="true"></i>
        	</div>
      	</div>
        <div class="panel-body" ng-show="home.showControls">
          <div>
          <h5>Markers</h5>
          <h5>Geofence</h5>
            <button ng-click="home.togglePolygon()" title="Add Geopoint on Click" ng-show="!home.drawingPoly">
            	<i class="fa fa-crosshairs fa-3x fa-fw" aria-hidden="true"></i>
            </button>
            <button ng-click="home.togglePolygon()" title="Pan on Click" ng-show="home.drawingPoly">
            	<i class="fa fa-hand-rock-o fa-3x fa-fw" aria-hidden="true"></i>
            </button>
            <button ng-click="home.filterTrips()" title="Filter to Geofence coordinates">
            	<i class="fa fa-filter fa-3x fa-fw" aria-hidden="true"></i>
            </button>
            <button ng-click="home.undoPolygon()" title="Undo Geopoint">
            	<i class="fa fa-undo fa-3x fa-fw" aria-hidden="true"></i>
            </button>
            <br />
            <button ng-click="home.removePolygon()" title="Remove Geofence">
            	<i class="fa fa-trash fa-3x fa-fw" aria-hidden="true"></i>
            </button>
          <h5>Change Views</h5>
          <div><sup>Markers / Pickup/Dropoff Density / Heatmap</sup></div>
            <button ng-click="home.drawTripMarkers()" title="Draw Markers">
            	<i class="fa fa-map-marker fa-3x fa-fw" aria-hidden="true"></i>
            </button>
            <button ng-click="home.drawTripCluster()" title="Draw Clustermap">
            	<i class="fa fa-question-circle-o fa-3x fa-fw" aria-hidden="true"></i>
            </button>
            <button ng-click="home.drawHeatmap()" title="Show Heatmap">
            	<i class="fa fa-fire fa-3x fa-fw" aria-hidden="true"></i>
            </button>
          </div>
        </div>
        <div class="panel-heading" ng-click="home.showQuery=!home.showQuery">Query
        	<div class="pull-right">
        		<i class="fa fa-chevron-down" aria-hidden="true"></i>
        	</div>
      	</div>
        <div class="panel-body" ng-show="home.showQuery">     
 					        
            <div>
            	<h5>Trip Start</h5>
              <input type="date" ng-model="home.tripStart">
              <input type="time" ng-model="home.tripStart">
            </div>
            <div>
            	<h5>Trip End</h5>
              <input type="date" ng-model="home.tripEnd">
              <input type="time" ng-model="home.tripEnd">
            </div>
          
          <div class="col-xs-12">

            <button ng-click="home.filterTrips()" title="Filter">
            	<i class="fa fa-filter fa-3x fa-fw" aria-hidden="true"></i>
            </button>
            <button ng-click="home.clearMap()" title="Filter">
            	<i class="fa fa-trash fa-3x fa-fw" aria-hidden="true"></i>
            </button>
          </div>
        </div>
        <div class="panel-heading" ng-click="home.showFilters=!home.showFilters">Filters
        	<div class="pull-right">
        		<i class="fa fa-chevron-down" aria-hidden="true"></i>
        	</div>
      	</div>
        <div class="panel-body" ng-show="home.showFilters">     
          <div class="col-xs-12">
						<div class="checkbox">
						  <label><input type="checkbox" ng-model="home.showPickupMarkers" ng-change="home.togglePickupMarkers(); home.drawMapMode()">Toggle Pickups</label>
						</div>
						<div class="checkbox">
						  <label><input type="checkbox" ng-model="home.showDropoffMarkers" ng-change="home.toggleDropoffMarkers(); home.drawMapMode()">Toggle Dropoffs</label>
						</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>